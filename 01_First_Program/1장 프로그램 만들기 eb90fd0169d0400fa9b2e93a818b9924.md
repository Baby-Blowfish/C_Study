# 1장 프로그램 만들기

# 1-1 프로그램과 C언어

프로그래밍 언어 : 컴퓨터가 이해할 수 있는, 정확한 표현의 규칙을 정의해 놓은 것

C언어는 1972년 벨 연구소의 데니스 리치(Dennis Ritchie)에 의해 개발되었습니다. C언어는 유닉스 운영체제를 구현하기 위해 만들어졌으며, 기존의 B언어를 개선하여 더 효율적이고 강력한 기능을 제공하게 되었습니다.

초기의 유닉스는 대부분 어셈블리어로 작성되어 하드웨가 바뀌면 유닉스를 다시 개발해야 하는 문제가 있었다.  하드웨어와 상관없이 사용할 수 있는 C언어는 고수준 언어로서 하드웨어에 가까운 저수준 프로그래밍도 가능하게 하였습니다. 

## C언어의 장점

1. **시스템 프로그래밍 가능**
    
    C언어는 운영체제, 컴파일러, 그리고 임베디드 시스템과 같은 시스템 소프트웨어를 프로그래밍하는 데 적합합니다. 이는 하드웨어 자원에 직접 접근하고 제어할 수 있는 저수준 기능을 제공하기 때문입니다. 예를 들어, 메모리 관리나 입출력 장치 제어와 같은 작업을 효율적으로 수행할 수 있습니다.
    
2. **이식성을 갖춘 프로그램을 만들 수 있음**
    
    C언어로 작성된 코드는 다양한 하드웨어와 운영체제에서 큰 수정 없이도 실행될 수 있습니다. 이는 C언어가 대부분의 시스템에서 표준화된 방식으로 구현되기 때문입니다. 따라서 한 플랫폼에서 개발된 소프트웨어를 다른 플랫폼으로 쉽게 이식할 수 있어, 코드의 재사용성과 유지보수성을 높일 수 있습니다.
    
3. **함수를 사용해 개별 프로그래밍이 가능**
    
    C언어는 함수 단위로 코드를 분할하여 작성할 수 있는 구조적 프로그래밍을 지원합니다. 이를 통해 복잡한 프로그램을 작은 단위로 나누어 개발하고 관리할 수 있습니다. 함수는 코드의 재사용성을 높이고, 디버깅과 테스트를 용이하게 하며, 프로그램의 가독성과 유지보수성을 향상시킵니다.
    

## 생산성

### 구조적 프로그래밍 기법

구조적 프로그래밍은 코드의 흐름을 제어하기 위해 순차적, 선택적, 반복적 구조를 사용하는 기법입니다. 이는 코드의 가독성과 유지보수성을 높이기 위해 사용됩니다.

- 데이터와 알고리즘을 분리하여 작성
- 함수 단위로 코드를 작성하여 모듈화
- 사용 예: C 언어

### 객체지향 프로그래밍 기법

객체지향 프로그래밍은 데이터와 그 데이터를 조작하는 알고리즘을 하나의 객체로 묶어 사용하는 기법입니다. 이는 코드의 재사용성과 확장성을 높이기 위해 사용됩니다.

- 데이터와 알고리즘을 클래스(객체)로 묶어서 작성
- 상속, 다형성, 캡슐화 등의 원칙을 사용
- 사용 예: C++ 언어

## 프로그램

프로그램은 데이터를 처리하는 알고리즘(로직)으로 구성됩니다. 데이터를 입력받아 처리하고, 결과를 출력하는 일련의 과정입니다.

- 데이터: 프로그램이 처리해야 할 정보
- 알고리즘: 데이터를 처리하는 절차나 방법

## 언어?

프로그래밍 언어는 프로그램을 작성하는 데 사용되는 도구입니다. 각 언어는 특정 용도나 플랫폼에 최적화되어 있습니다.

- Python: 인공지능(AI) 및 데이터 과학에 주로 사용
- Java: 웹 및 엔터프라이즈 애플리케이션 개발에 많이 사용
- C#: 마이크로소프트(MS) 플랫폼을 위한 개발에 사용
- Go: 구글에서 개발한 언어로, 높은 성능과 간결함을 목표로 함
- C: 구조적 프로그래밍에 주로 사용
- C++: 객체지향 프로그래밍에 주로 사용

# 1-2 컴파일과 컴파일러 사용법

프로그램 작성 과정

소스파일 작성 → 컴파일 → 실행

## 컴파일 과정

컴파일은 고급 프로그래밍 언어로 작성된 소스 코드를 기계어로 변환하는 과정입니다. 이 과정은 여러 단계를 거쳐 이루어지며, 각각의 단계는 특정한 작업을 수행합니다. 컴파일 과정은 일반적으로 다음과 같은 단계를 포함합니다.

### 1. 전처리 (Preprocessing)

전처리기는 소스 코드에서 전처리 지시문(#으로 시작하는 지시문)을 처리합니다. 이 과정에서 파일을 포함(#include), 매크로를 정의(#define), 조건부 컴파일(#ifdef, #ifndef) 등의 작업이 수행됩니다. 전처리 결과는 확장된 소스 코드입니다.

### 2. 컴파일 (Compilation)

컴파일러는 전처리된 소스 코드를 분석하여 중간 코드(intermediate code)나 어셈블리 코드(assembly code)를 생성합니다. 개체파일이 됨. cpu가 해석가능한 명령어로 이루어진 기계어 파일이지만, OS에 의해 실행되므로 개체 파일을 설치된 OS가 인식할 수 있는 실행 파일로 바꿔야함.

- **어휘 분석 (Lexical Analysis):** 소스 코드를 토큰(token)으로 분할합니다.
- **구문 분석 (Syntax Analysis):** 토큰의 구조를 검사하여 구문 트리(parse tree)를 생성합니다.
- **의미 분석 (Semantic Analysis):** 구문 트리를 기반으로 의미를 검사하고, 중간 코드를 생성합니다.

### 3. 최적화 (Optimization)

생성된 중간 코드나 어셈블리 코드는 최적화 과정을 거쳐 성능이 향상됩니다. 이 과정에서는 불필요한 코드가 제거되거나, 더 효율적인 코드로 대체됩니다. 최적화는 컴파일러의 선택적인 단계로, 다양한 최적화 기법이 적용될 수 있습니다.

### 4. 어셈블리 (Assembly)

어셈블러는 어셈블리 코드를 기계어로 변환합니다. 이 단계에서는 어셈블리 코드를 바이너리 코드로 변환하여 객체 파일(object file)을 생성합니다.

### 5. 링크 (Linking)

링커는 개체 파일에 startup code를 결합함. 여러 객체 파일과 라이브러리 파일을 결합하여 실행 파일(executable)을 생성합니다. 이 과정에서 각 객체 파일의 심볼(symbol)을 해석하고, 필요한 라이브러리를 포함시킵니다. 링크 과정은 다음과 같은 하위 단계를 포함합니다.

- **심볼 해결 (Symbol Resolution):** 각 객체 파일의 심볼을 해석하고, 참조된 모든 심볼이 정의되어 있는지 확인합니다.
- **재배치 (Relocation):** 각 객체 파일의 주소를 조정하여 실행 파일의 메모리 레이아웃을 결정합니다.

## 기계어와 객체 파일

기계어는 CPU가 직접 해석하고 실행할 수 있는 저수준의 이진 코드입니다. 고급 프로그래밍 언어로 작성된 소스 코드는 컴파일 과정을 통해 기계어로 변환되어야 실행될 수 있습니다. 이 기계어 코드는 보통 객체 파일(object file)로 저장됩니다.

객체 파일은 컴파일러가 소스 코드를 기계어로 번역한 결과물입니다. 객체 파일은 실행 파일의 일부로 사용되며, 실행 파일을 생성하기 위해 링크 과정에서 다른 객체 파일 및 라이브러리와 결합됩니다. 객체 파일은 다음과 같은 정보를 포함합니다:

- **기계어 코드:** CPU가 실행할 수 있는 이진 코드입니다.
- **데이터:** 프로그램에서 사용되는 초기화된 데이터 및 초기화되지 않은 데이터입니다.
- **심볼 테이블:** 객체 파일 내의 변수, 함수 등의 심볼 정보를 포함합니다.
- **재배치 정보:** 객체 파일이 메모리에 로드될 때 주소를 조정하기 위한 정보입니다.

객체 파일은 실행 파일을 생성하기 위한 중간 결과물로, 단독으로 실행될 수 없으며 반드시 링크 과정을 거쳐야 합니다.